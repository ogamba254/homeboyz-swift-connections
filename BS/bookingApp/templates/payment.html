<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Payment Page</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, #6a11cb, #2575fc); height: 100vh; display: flex; justify-content: center; align-items: center; margin: 0; }
    .payment-container { background: #fff; padding: 30px; border-radius: 12px; width: 350px; box-shadow: 0 8px 20px rgba(0,0,0,0.2); text-align: center; }
    .payment-container h2 { margin-bottom: 20px; color: #333; }
    label { display: block; margin-top: 15px; text-align: left; font-weight: bold; color: #444; }
    input { width: 100%; padding: 12px; margin-top: 8px; border: 2px solid #ddd; border-radius: 8px; transition: border-color 0.3s; }
    input:focus { border-color: #2575fc; outline: none; }
    button { margin-top: 20px; width: 100%; padding: 12px; background: linear-gradient(135deg, #ff512f, #dd2476); color: #fff; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
    button:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.2); }
    #summary { margin-top: 15px; font-weight: bold; color: #333; }
  </style>
</head>
<body>
  <div class="payment-container">
    <h2>Secure Payment</h2>
    <div id="summary">Loading booking details...</div>
    <form id="paymentForm">
      <label for="phone">Phone Number</label>
      <input type="tel" id="phone" placeholder="+254 712 345678" required>

      <label for="amount">Amount (KES)</label>
      <input type="number" id="amount" readonly>

      <button type="submit">Pay Now</button>
    </form>
  </div>

  <script>
    // Load booking details from localStorage
    const seats = JSON.parse(localStorage.getItem("selectedSeats")) || [];
    const total = localStorage.getItem("totalPrice") || 0;

    document.getElementById("summary").textContent = 
      seats.length > 0 
      ? "Selected Seats: " + seats.join(", ") + " | Total: KES " + total 
      : "No seats selected.";

    document.getElementById("amount").value = total;

    document.getElementById("paymentForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const phone = document.getElementById("phone").value;
          alert("Payment of KES " + total + " initiated for " + phone + 
          "\nSeats: " + seats.join(", "));
        window.location.href = "{% url 'booking_confirmation' %}";
    });
  </script>
</body>
</html>
